# ESMValTool
# recipe_kcs.yml
---
documentation:
  description: >
    This recipe reproduces the basic steps described in Lenderink 2014.
    We just do one scenario at a time; maybe extend later.

  references:
    - lenderink14erl

  authors:
    # TODO: Add Evert to config_developers
    # - rol_evert
    - kalverla_peter
    - alidoost_sarah


cmip5: &cmip5 #TODO: run the second diagnostics with this selection
    # for historical r(1:3)i1p1 but not for future
  - {dataset: ACCESS1-0, project: CMIP5, mip: Amon, exp: [historical, rcp45], ensemble: r1i1p1, start_year: 1961, end_year: 2099}
  - {dataset: ACCESS1-0, project: CMIP5, mip: Amon, exp: [historical, rcp85], ensemble: r1i1p1, start_year: 1961, end_year: 2099}

    # for historical r(1:3)i1p1 but not for future
  - {dataset: ACCESS1-3, project: CMIP5, mip: Amon, exp: [historical, rcp45], ensemble: r1i1p1, start_year: 1961, end_year: 2099}
  - {dataset: ACCESS1-3, project: CMIP5, mip: Amon, exp: [historical, rcp85], ensemble: r1i1p1, start_year: 1961, end_year: 2099}

  - {dataset: BNU-ESM, project: CMIP5, mip: Amon, exp: [historical, rcp45], ensemble: r1i1p1, start_year: 1961, end_year: 2099}
  - {dataset: BNU-ESM,project: CMIP5, mip: Amon, exp: [historical, rcp85], ensemble: r1i1p1, start_year: 1961, end_year: 2099}

    # for historical r1i2p2 and  r1i2p1 but not for future
  - {dataset: CCSM4, project: CMIP5, mip: Amon, exp: [historical, rcp45], ensemble: "r(1:4)i1p1", start_year: 1961, end_year: 2099}
  - {dataset: CCSM4, project: CMIP5, mip: Amon, exp: [historical, rcp60], ensemble: "r(1:4)i1p1", start_year: 1961, end_year: 2099}
  - {dataset: CCSM4, project: CMIP5, mip: Amon, exp: [historical, rcp85], ensemble: "r(1:4)i1p1", start_year: 1961, end_year: 2099}

  - {dataset: CESM1-BGC, project: CMIP5, mip: Amon, exp: [historical, rcp45], ensemble: r1i1p1, start_year: 1961, end_year: 2099}
  - {dataset: CESM1-BGC, project: CMIP5, mip: Amon, exp: [historical, rcp85], ensemble: r1i1p1, start_year: 1961, end_year: 2099}

  - {dataset: CESM1-CAM5, project: CMIP5, mip: Amon, exp: [historical, rcp45], ensemble: "r(1:3)i1p1", start_year: 1961, end_year: 2099}
  - {dataset: CESM1-CAM5, project: CMIP5, mip: Amon, exp: [historical, rcp60], ensemble: "r(1:3)i1p1", start_year: 1961, end_year: 2099}
  - {dataset: CESM1-CAM5, project: CMIP5, mip: Amon, exp: [historical, rcp85], ensemble: "r(1:3)i1p1", start_year: 1961, end_year: 2099}

    # for historical r(1:7)i1p1 but not for future
  - {dataset: CESM1-WACCM, project: CMIP5, mip: Amon, exp: [historical, rcp45], ensemble: "r(2:4)i1p1", start_year: 1961, end_year: 2099}
  - {dataset: CESM1-WACCM, project: CMIP5, mip: Amon, exp: [historical, rcp85], ensemble: "r(2:4)i1p1", start_year: 1961, end_year: 2099}

  - {dataset: CMCC-CESM, project: CMIP5, mip: Amon, exp: [historical, rcp85], ensemble: r1i1p1, start_year: 1961, end_year: 2099}

  - {dataset: CMCC-CM, project: CMIP5, mip: Amon, exp: [historical, rcp45], ensemble: r1i1p1, start_year: 1961, end_year: 2099}
  - {dataset: CMCC-CM, project: CMIP5, mip: Amon, exp: [historical, rcp85], ensemble: r1i1p1, start_year: 1961, end_year: 2099}

  - {dataset: CMCC-CMS, project: CMIP5, mip: Amon, exp: [historical, rcp45], ensemble: r1i1p1, start_year: 1961, end_year: 2099}
  - {dataset: CMCC-CMS, project: CMIP5, mip: Amon, exp: [historical, rcp85], ensemble: r1i1p1, start_year: 1961, end_year: 2099}

    # for historical r(1:10)i1p1 but not for future
  - {dataset: CNRM-CM5, project: CMIP5, mip: Amon, exp: [historical, rcp45], ensemble: r1i1p1, start_year: 1961, end_year: 2099}
  - {dataset: CNRM-CM5, project: CMIP5, mip: Amon, exp: [historical, rcp85], ensemble: "r(1:2)i1p1", start_year: 1961, end_year: 2099}
  - {dataset: CNRM-CM5, project: CMIP5, mip: Amon, exp: [historical, rcp85], ensemble: r4i1p1, start_year: 1961, end_year: 2099}
  - {dataset: CNRM-CM5, project: CMIP5, mip: Amon, exp: [historical, rcp85], ensemble: r6i1p1, start_year: 1961, end_year: 2099}
  - {dataset: CNRM-CM5, project: CMIP5, mip: Amon, exp: [historical, rcp85], ensemble: r10i1p1, start_year: 1961, end_year: 2099}

  - {dataset: CSIRO-Mk3-6-0, project: CMIP5, mip: Amon, exp: [historical, rcp45], ensemble: "r(1:10)i1p1", start_year: 1961, end_year: 2099}
  - {dataset: CSIRO-Mk3-6-0, project: CMIP5, mip: Amon, exp: [historical, rcp60], ensemble: "r(1:10)i1p1", start_year: 1961, end_year: 2099}
  - {dataset: CSIRO-Mk3-6-0, project: CMIP5, mip: Amon, exp: [historical, rcp85], ensemble: "r(1:10)i1p1", start_year: 1961, end_year: 2099}

  - {dataset: CSIRO-Mk3L-1-2, project: CMIP5, mip: Amon, exp: [historical, rcp45], ensemble: "r(1:3)i2p1", start_year: 1961, end_year: 2099}

  - {dataset: CanESM2, project: CMIP5, mip: Amon, exp: [historical, rcp45], ensemble: "r(1:5)i1p1", start_year: 1961, end_year: 2099}
  - {dataset: CanESM2, project: CMIP5, mip: Amon, exp: [historical, rcp85], ensemble: r(1:5)i1p1, start_year: 1961, end_year: 2099}

    # for historical r(1:5)i1p1 but not for future
  - {dataset: FGOALS-g2, project: CMIP5, mip: Amon, exp: [historical, rcp45], ensemble: r1i1p1, start_year: 1961, end_year: 2099}
  - {dataset: FGOALS-g2, project: CMIP5, mip: Amon, exp: [historical, rcp85], ensemble: r1i1p1, start_year: 1961, end_year: 2099}

  - {dataset: FIO-ESM, project: CMIP5, mip: Amon, exp: [historical, rcp45], ensemble: "r(1:3)i1p1", start_year: 1961, end_year: 2099}
  - {dataset: FIO-ESM, project: CMIP5, mip: Amon, exp: [historical, rcp60], ensemble: "r(1:3)i1p1", start_year: 1961, end_year: 2099}
  - {dataset: FIO-ESM, project: CMIP5, mip: Amon, exp: [historical, rcp85], ensemble: "r(1:3)i1p1", start_year: 1961, end_year: 2099}

    # for historical r(1:5)i1p1 but not for future
  - {dataset: GFDL-CM3, project: CMIP5, mip: Amon, exp: [historical, rcp45], ensemble: r1i1p1, start_year: 1961, end_year: 2099}
  - {dataset: GFDL-CM3, project: CMIP5, mip: Amon, exp: [historical, rcp45], ensemble: r5i1p1, start_year: 1961, end_year: 2099}
  - {dataset: GFDL-CM3, project: CMIP5, mip: Amon, exp: [historical, rcp60], ensemble: r1i1p1, start_year: 1961, end_year: 2099}
  - {dataset: GFDL-CM3, project: CMIP5, mip: Amon, exp: [historical, rcp85], ensemble: r1i1p1, start_year: 1961, end_year: 2099}

  - {dataset: GFDL-ESM2G, project: CMIP5, mip: Amon, exp: [historical, rcp45], ensemble: r1i1p1, start_year: 1961, end_year: 2099}
  - {dataset: GFDL-ESM2G, project: CMIP5, mip: Amon, exp: [historical, rcp60], ensemble: r1i1p1, start_year: 1961, end_year: 2099}
  - {dataset: GFDL-ESM2G, project: CMIP5, mip: Amon, exp: [historical, rcp85], ensemble: r1i1p1, start_year: 1961, end_year: 2099}

  - {dataset: GFDL-ESM2M, project: CMIP5, mip: Amon, exp: [historical, rcp45], ensemble: r1i1p1, start_year: 1961, end_year: 2099}
  - {dataset: GFDL-ESM2M, project: CMIP5, mip: Amon, exp: [historical, rcp60], ensemble: r1i1p1, start_year: 1961, end_year: 2099}
  - {dataset: GFDL-ESM2M, project: CMIP5, mip: Amon, exp: [historical, rcp85], ensemble: r1i1p1, start_year: 1961, end_year: 2099}

  - {dataset: GISS-E2-H-CC, project: CMIP5, mip: Amon, exp: [historical, rcp45], ensemble: r1i1p1, start_year: 1961, end_year: 2099}
  - {dataset: GISS-E2-H-CC, project: CMIP5, mip: Amon, exp: [historical, rcp85], ensemble: r1i1p1, start_year: 1961, end_year: 2099}

  - {dataset: GISS-E2-H, project: CMIP5, mip: Amon, exp: [historical, rcp45], ensemble: "r(1:5)i1p1", start_year: 1961, end_year: 2099}
    # for historical r(1:6)i1p2 but not for future
  - {dataset: GISS-E2-H, project: CMIP5, mip: Amon, exp: [historical, rcp45], ensemble: "r(1:5)i1p2", start_year: 1961, end_year: 2099}
  # for future r(1:6)i1p3 but not for historical
  - {dataset: GISS-E2-H, project: CMIP5, mip: Amon, exp: [historical, rcp45], ensemble: "r(1:5)i1p3", start_year: 1961, end_year: 2099}
  - {dataset: GISS-E2-H, project: CMIP5, mip: Amon, exp: [historical, rcp60], ensemble: r1i1p1, start_year: 1961, end_year: 2099}
  - {dataset: GISS-E2-H, project: CMIP5, mip: Amon, exp: [historical, rcp60], ensemble: r1i1p2, start_year: 1961, end_year: 2099}
  - {dataset: GISS-E2-H, project: CMIP5, mip: Amon, exp: [historical, rcp60], ensemble: r1i1p3, start_year: 1961, end_year: 2099}
    # for future r(1:2)i1p1 but not for historical
  - {dataset: GISS-E2-H, project: CMIP5, mip: Amon, exp: [historical, rcp85], ensemble: r1i1p1, start_year: 1961, end_year: 2099}
  - {dataset: GISS-E2-H, project: CMIP5, mip: Amon, exp: [historical, rcp85], ensemble: r1i1p2, start_year: 1961, end_year: 2099}
  - {dataset: GISS-E2-H, project: CMIP5, mip: Amon, exp: [historical, rcp85], ensemble: "r(1:2)i1p3", start_year: 1961, end_year: 2099}

  - {dataset: GISS-E2-R-CC, project: CMIP5, mip: Amon, exp: [historical, rcp45], ensemble: r1i1p1, start_year: 1961, end_year: 2099}
  - {dataset: GISS-E2-R-CC, project: CMIP5, mip: Amon, exp: [historical, rcp85], ensemble: r1i1p1, start_year: 1961, end_year: 2099}

  - {dataset: GISS-E2-R, project: CMIP5, mip: Amon, exp: [historical, rcp45], ensemble: "r(1:6)i1p1", start_year: 1961, end_year: 2099}
  - {dataset: GISS-E2-R, project: CMIP5, mip: Amon, exp: [historical, rcp85], ensemble: "r(1:2)i1p1", start_year: 1961, end_year: 2099}
    # for historical r(1:6)i1p2 but not for future
  - {dataset: GISS-E2-R, project: CMIP5, mip: Amon, exp: [historical, rcp45], ensemble: "r(1:5)i1p2", start_year: 1961, end_year: 2099}
  - {dataset: GISS-E2-R, project: CMIP5, mip: Amon, exp: [historical, rcp85], ensemble: r1i1p2, start_year: 1961, end_year: 2099}
  - {dataset: GISS-E2-R, project: CMIP5, mip: Amon, exp: [historical, rcp45], ensemble: "r(1:6)i1p3", start_year: 1961, end_year: 2099}
  - {dataset: GISS-E2-R, project: CMIP5, mip: Amon, exp: [historical, rcp60], ensemble: "r1i1p(1:3)", start_year: 1961, end_year: 2099}
  - {dataset: GISS-E2-R, project: CMIP5, mip: Amon, exp: [historical, rcp85], ensemble: "r(1:2)i1p3", start_year: 1961, end_year: 2099}

  - {dataset: HadGEM2-AO, project: CMIP5, mip: Amon, exp: [historical, rcp45], ensemble: r1i1p1, start_year: 1961, end_year: 2099}
  - {dataset: HadGEM2-AO, project: CMIP5, mip: Amon, exp: [historical, rcp60], ensemble: r1i1p1, start_year: 1961, end_year: 2099}
  - {dataset: HadGEM2-AO, project: CMIP5, mip: Amon, exp: [historical, rcp85], ensemble: r1i1p1, start_year: 1961, end_year: 2099}

  - {dataset: HadGEM2-CC, project: CMIP5, mip: Amon, exp: [historical, rcp45], ensemble: r1i1p1, start_year: 1961, end_year: 2099}
  - {dataset: HadGEM2-CC, project: CMIP5, mip: Amon, exp: [historical, rcp85], ensemble: "r(1:3)i1p1", start_year: 1961, end_year: 2099}

    # for historical r(1:5)i1p1 but not for future
  - {dataset: HadGEM2-ES, project: CMIP5, mip: Amon, exp: [historical, rcp45], ensemble: "r(1:4)i1p1", start_year: 1961, end_year: 2099}
  - {dataset: HadGEM2-ES, project: CMIP5, mip: Amon, exp: [historical, rcp60], ensemble: "r(1:4)i1p1", start_year: 1961, end_year: 2099}
  - {dataset: HadGEM2-ES, project: CMIP5, mip: Amon, exp: [historical, rcp85], ensemble: "r(2:4)i1p1", start_year: 1961, end_year: 2099}

    # for historical r(1:6)i1p1 but not for future
  - {dataset: IPSL-CM5A-LR, project: CMIP5, mip: Amon, exp: [historical, rcp45], ensemble: "r(1:4)i1p1", start_year: 1961, end_year: 2099}
  - {dataset: IPSL-CM5A-LR, project: CMIP5, mip: Amon, exp: [historical, rcp60], ensemble: r1i1p1, start_year: 1961, end_year: 2099}
  - {dataset: IPSL-CM5A-LR, project: CMIP5, mip: Amon, exp: [historical, rcp85], ensemble: "r(1:4)i1p1", start_year: 1961, end_year: 2099}

    # for historical r(1:3)i1p1 but not for future
  - {dataset: IPSL-CM5A-MR, project: CMIP5, mip: Amon, exp: [historical, rcp45], ensemble: r1i1p1, start_year: 1961, end_year: 2099}
  - {dataset: IPSL-CM5A-MR, project: CMIP5, mip: Amon, exp: [historical, rcp60], ensemble: r1i1p1, start_year: 1961, end_year: 2099}
  - {dataset: IPSL-CM5A-MR, project: CMIP5, mip: Amon, exp: [historical, rcp85], ensemble: r1i1p1, start_year: 1961, end_year: 2099}

  - {dataset: IPSL-CM5B-LR, project: CMIP5, mip: Amon, exp: [historical, rcp45], ensemble: r1i1p1, start_year: 1961, end_year: 2099}
  - {dataset: IPSL-CM5B-LR, project: CMIP5, mip: Amon, exp: [historical, rcp85], ensemble: r1i1p1, start_year: 1961, end_year: 2099}

     # for rcp45 r(1:9)i1p1 but not for historical
  - {dataset: MIROC-ESM-CHEM, project: CMIP5, mip: Amon, exp: [historical, rcp45], ensemble: r1i1p1, start_year: 1961, end_year: 2099}
  - {dataset: MIROC-ESM-CHEM, project: CMIP5, mip: Amon, exp: [historical, rcp60], ensemble: r1i1p1, start_year: 1961, end_year: 2099}
  - {dataset: MIROC-ESM-CHEM, project: CMIP5, mip: Amon, exp: [historical, rcp85], ensemble: r1i1p1, start_year: 1961, end_year: 2099}

  - {dataset: MIROC-ESM, project: CMIP5, mip: Amon, exp: [historical, rcp45], ensemble: r1i1p1, start_year: 1961, end_year: 2099}
  - {dataset: MIROC-ESM, project: CMIP5, mip: Amon, exp: [historical, rcp60], ensemble: r1i1p1, start_year: 1961, end_year: 2099}
  - {dataset: MIROC-ESM, project: CMIP5, mip: Amon, exp: [historical, rcp85], ensemble: r1i1p1, start_year: 1961, end_year: 2099}

     # for historical r(1:5)i1p1 but not for future
  # - {dataset: MIROC5, project: CMIP5, mip: Amon, exp: [historical, rcp45], ensemble: "r(1:3)i1p1", start_year: 1961, end_year: 2099}  # historical ends in 2012!
  # - {dataset: MIROC5, project: CMIP5, mip: Amon, exp: [historical, rcp60], ensemble: "r(1:3)i1p1", start_year: 1961, end_year: 2099}
  # - {dataset: MIROC5, project: CMIP5, mip: Amon, exp: [historical, rcp85], ensemble: "r(1:3)i1p1", start_year: 1961, end_year: 2080}

    # for historical r(1:5)i1p1 but not for future
  - {dataset: MPI-ESM-LR, project: CMIP5, mip: Amon, exp: [historical, rcp45], ensemble: "r(1:3)i1p1", start_year: 1961, end_year: 2099}
  - {dataset: MPI-ESM-LR, project: CMIP5, mip: Amon, exp: [historical, rcp85], ensemble: "r(1:3)i1p1", start_year: 1961, end_year: 2099}

  - {dataset: MPI-ESM-MR, project: CMIP5, mip: Amon, exp: [historical, rcp45], ensemble: "r(1:3)i1p1", start_year: 1961, end_year: 2099}
  - {dataset: MPI-ESM-MR, project: CMIP5, mip: Amon, exp: [historical, rcp85], ensemble: r1i1p1, start_year: 1961, end_year: 2099}

    # for historical r(1:3)i1p1 but not for future
  - {dataset: MRI-CGCM3, project: CMIP5, mip: Amon, exp: [historical, rcp45], ensemble: r1i1p1, start_year: 1961, end_year: 2099}
  - {dataset: MRI-CGCM3, project: CMIP5, mip: Amon, exp: [historical, rcp60], ensemble: r1i1p1, start_year: 1961, end_year: 2099}
  - {dataset: MRI-CGCM3, project: CMIP5, mip: Amon, exp: [historical, rcp85], ensemble: r1i1p1, start_year: 1961, end_year: 2099}

  - {dataset: MRI-ESM1, project: CMIP5, mip: Amon, exp: [historical, rcp85], ensemble: r1i1p1, start_year: 1961, end_year: 2099}

    # for historical r(1:3)i1p1 but not for future
  - {dataset: NorESM1-M, project: CMIP5, mip: Amon, exp: [historical, rcp45], ensemble: r1i1p1, start_year: 1961, end_year: 2099}
  - {dataset: NorESM1-M, project: CMIP5, mip: Amon, exp: [historical, rcp60], ensemble: r1i1p1, start_year: 1961, end_year: 2099}
  - {dataset: NorESM1-M, project: CMIP5, mip: Amon, exp: [historical, rcp85], ensemble: r1i1p1, start_year: 1961, end_year: 2099}

  - {dataset: NorESM1-ME, project: CMIP5, mip: Amon, exp: [historical, rcp45], ensemble: r1i1p1, start_year: 1961, end_year: 2099}
  - {dataset: NorESM1-ME, project: CMIP5, mip: Amon, exp: [historical, rcp60], ensemble: r1i1p1, start_year: 1961, end_year: 2099}
  - {dataset: NorESM1-ME, project: CMIP5, mip: Amon, exp: [historical, rcp85], ensemble: r1i1p1, start_year: 1961, end_year: 2099}

    # for historical r(1:3)i1p1 but not for future
  - {dataset: bcc-csm1-1-m, project: CMIP5, mip: Amon, exp: [historical, rcp45], ensemble: r1i1p1, start_year: 1961, end_year: 2099}
  - {dataset: bcc-csm1-1-m, project: CMIP5, mip: Amon, exp: [historical, rcp60], ensemble: r1i1p1, start_year: 1961, end_year: 2099}
  - {dataset: bcc-csm1-1-m, project: CMIP5, mip: Amon, exp: [historical, rcp85], ensemble: r1i1p1, start_year: 1961, end_year: 2099}

    # for historical r(1:3)i1p1 but not for future
  - {dataset: bcc-csm1-1, project: CMIP5, mip: Amon, exp: [historical, rcp45], ensemble: r1i1p1, start_year: 1961, end_year: 2099}
  - {dataset: bcc-csm1-1, project: CMIP5, mip: Amon, exp: [historical, rcp60], ensemble: r1i1p1, start_year: 1961, end_year: 2099}
  - {dataset: bcc-csm1-1, project: CMIP5, mip: Amon, exp: [historical, rcp85], ensemble: r1i1p1, start_year: 1961, end_year: 2099}

  - {dataset: inmcm4, project: CMIP5, mip: Amon, exp: [historical, rcp85], ensemble: r1i1p1, start_year: 1961, end_year: 2099}
  - {dataset: inmcm4, project: CMIP5, mip: Amon, exp: [historical, rcp45], ensemble: r1i1p1, start_year: 1961, end_year: 2099}

target: &target
  # - {dataset: CCSM4, project: CMIP5, mip: Amon, exp: [historical, rcp45], ensemble: "r(1:4)i1p1", start_year: 1961, end_year: 2099}
  - {dataset: CCSM4, project: CMIP5, mip: Amon, exp: [historical, rcp60], ensemble: "r(1:4)i1p1", start_year: 1961, end_year: 2099}
  - {dataset: CCSM4, project: CMIP5, mip: Amon, exp: [historical, rcp85], ensemble: "r(1:4)i1p1", start_year: 1961, end_year: 2099}


preprocessors:
  preprocessor_global:
    custom_order: true
    area_statistics:
      operator: mean
    annual_statistics:
      operator: mean
    regrid_time:
      # try to get back homogeneous time arrays; https://github.com/ESMValGroup/ESMValCore/issues/665
      frequency: yr
    anomalies:
      period: full
      reference:
        start_year: 1981
        start_month: 1
        start_day: 1
        end_year: 2010
        end_month: 12
        end_day: 31
      standardize: false
    multi_model_statistics:
      span: full
      statistics: [mean, median]   # might want to add percentiles here, but not (yet) supported
  preprocessor_local: &extract_NL
    extract_point:
      longitude: 6.25
      latitude: 51.21
      scheme: linear


diagnostics:
  global_matching:
    description: >
      - Make a plot of the global mean temperature change according to all datasets (defined above)
      - Get the global mean temperature change for specified years and specified percentiles (Delta T). These define our scenarios.
      - Select the 30-year period from the target model (all ensemble members) where they match the Delta T for each scenario.
    variables:
      tas_cmip:
        short_name: tas
        preprocessor: preprocessor_global
        additional_datasets: *cmip5
      tas_target:
        short_name: tas
        preprocessor: preprocessor_global
        additional_datasets: *target
    scripts:
      global_matching:
        script: kcs/global_matching.py
        scenario_years: [2050, 2085]  # TODO: Adapt diagnostic to plot and print these points (like in figure 3a)
        scenario_percentiles: [Mean, Median]
        target_model: CCSM4

  local_resampling:
    description: >
      - Divide the 30-year dataset into 5-year blocks
      - Create all possible combinations out of these 30/5 = 6 periods and x ensemble members (may contain the same block multiple times, but less is better and maximum three times (see third item below))
      - Determine the 1000 best ...
      - Determine the final best
    variables:
      tas_target: &target_variable
        short_name: tas
        preprocessor: preprocessor_local
        additional_datasets: *target
      pr_target:
        <<: *target_variable
        short_name: pr
      tas_cmip: &cmip_variable
        short_name: tas
        preprocessor: preprocessor_local
        additional_datasets: *cmip5
      pr_cmip:
        <<: *cmip_variable
        short_name: pr
    scripts:
      resample:
        script: kcs/local_resampling.py
        control_period: [1981, 2010]
        target_model: CCSM4
        scenarios:  # see Table 1 of the supplementary material
          ML_MOC:
            description: "Moderate warming / low changes in seasonal temperature & precipitation"
            global_dT: 1.0
            scenario_year: 2050
            resampling_period: [2021, 2050]
            dpr_winter: 4
            pr_summer_control: [25, 55]
            pr_summer_future: [45, 75]
            tas_winter_control: [50, 80]
            tas_winter_future: [20, 50]
            tas_summer_control: [0, 100]
            tas_summer_future: [0, 50]

          ML_EOC:
            description: "Moderate warming / low changes in seasonal temperature & precipitation"
            global_dT: 1.5
            scenario_year: 2085
            resampling_period: [2031, 2060]
            dpr_winter: 6
            pr_summer_control: [10, 40]
            pr_summer_future: [60, 90]
            tas_winter_control: [50, 80]
            tas_winter_future: [20, 50]
            tas_summer_control: [0, 100]
            tas_summer_future: [0, 50]

          WH_EOC:
            description: "High warming / high changes in seasonal temperature & precipitation"
            global_dT: 3.0
            scenario_year: 2085
            resampling_period: [2066, 2095]
            dpr_winter: 24
            pr_summer_control: [60, 100]
            pr_summer_future: [0, 40]
            tas_winter_control: [20, 50]
            tas_winter_future: [50, 80]
            tas_summer_control: [10, 50]
            tas_summer_future: [60, 100]
